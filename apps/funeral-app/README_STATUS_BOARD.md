# 🏥 영동병원 장례식장 현황판 시스템

## 📋 현황판 업데이트 완료

### ✅ 주요 변경사항

#### 1. **현황판 카드 디스플레이 개선**
- 각 빈소 카드에 고인 정보 직접 표시
- 전통적인 한국 장례식장 디스플레이 형식 적용
- 실시간 상태 표시 (🔴 사용중 / 🟢 공실)

#### 2. **표시되는 정보**
- **고인 정보**: 
  - † 표시와 함께 고인 성함
  - 종교 호칭 (성도, 권사, 집사 등)
  - 성별/연령
  - 영정사진 (등록시)

- **유가족 정보**:
  - 관계별로 정리 (상주, 며느리, 손, 배우자 등)
  - 가족 서열에 따른 자동 정렬

- **일정 정보**:
  - 입관: 날짜와 시간
  - 발인: 날짜와 시간  
  - 장지: 장례 장소

#### 3. **데이터 저장 방식**
- localStorage 사용 (키: 'funerals')
- 빈소별 독립 데이터 관리
- 자동 새로고침 기능

## 🚀 사용 방법

### 1. 앱 실행
```bash
cd C:\work_station\장례식장\funeral-admin
npm install
npm run dev
```

### 2. 접속
```
http://localhost:3000
```

### 3. 빈소 정보 입력
1. 좌측 메뉴에서 빈소 선택 (예: 1빈소)
2. 고인 정보 입력:
   - 고인이름 (필수)
   - 나이, 성별
   - 종교 및 호칭
3. 유가족 정보 추가
4. 일정 입력 (입관, 발인, 장지)
5. **저장** 버튼 클릭

### 4. 현황판 확인
- **현황판** 탭에서 모든 빈소 상태 한눈에 확인
- 각 카드에 저장된 정보 표시
- 카드 클릭시 상세 정보 편집 가능

## 📁 데이터 구조

```javascript
{
  deceased_name: "신동한",
  deceased_hanja: "申東漢",
  age: 74,
  gender: "남",
  religion: "기독교",
  religion_title: "성도",
  family_members: [
    { relation: "상주", name: "신정섭", phone: "010-xxxx-xxxx" },
    { relation: "며느리", name: "김지영", phone: "" }
  ],
  casket_time: "2025-10-10 14:00",
  funeral_time: "2025-10-11 07:00",
  burial_location: "원주시 문막 선영",
  photo_url: "data:image/jpeg;base64,..."
}
```

## 🎨 UI 특징

- **전통 장례식장 디스플레이 스타일**
  - 어두운 슬레이트 배경
  - 빨강/초록 상태 표시등
  - 깔끔한 카드 레이아웃

- **반응형 디자인**
  - 4열 그리드 (대화면)
  - 3열 그리드 (중간 화면)
  - 2열 그리드 (태블릿)
  - 1열 그리드 (모바일)

## 📌 주요 기능

1. **실시간 상태 관리**
   - 빈소별 입실/퇴실 처리
   - 빈소 이동 기능
   - 자동 새로고침

2. **검색 기능**
   - 상주 이름으로 검색
   - 고인 이름으로 검색

3. **데이터 관리**
   - 저장된 장례정보 목록
   - 개별 삭제/수정 가능
   - 부고장 미리보기

## 🔧 향후 개선사항

1. **Supabase 연동**
   - 현재 localStorage → Supabase DB 마이그레이션
   - 실시간 동기화
   - 다중 사용자 지원

2. **추가 기능**
   - 화환 주문 연동
   - 조문객 관리
   - 통계 및 리포트

## 💡 문제 해결

### 데이터가 표시되지 않을 때:
1. 개발자 도구 (F12) → Application → Local Storage 확인
2. 'funerals' 키에 데이터 있는지 확인
3. 새로고침 버튼 클릭

### 사진이 업로드되지 않을 때:
- 파일 크기 5MB 이하 확인
- 이미지 파일 형식 (JPG, PNG) 확인

## 📞 지원
문의: 043-740-1004 (영동병원 장례식장)