# Homepage 기술부채 평가 (2025-10-29)

## 🟢 배포 운영 가능 (위험도: 낮음)

### 핵심 기능 안정성
✅ 주문 생성/조회 (route.ts 정리 완료)
✅ 결제 처리 (Toss Payments 통합)
✅ SMS 인증 (서버 측 검증)
✅ 회원가입/로그인
✅ 쿠폰/포인트 시스템

### 보안
✅ Rate Limiting 적용됨
✅ bcrypt 비밀번호 해싱
✅ JWT 인증
✅ Input validation
⚠️ RLS 정책 확인 필요

## 🟡 개선 권장 (중간 우선순위)

### 1. 환경변수 검증 누락
현재: 런타임 에러 발생 가능
영향: NHN SMS, Toss 결제 실패 시 500 에러

### 2. 에러 응답 형식 불일치
현재: API마다 다른 에러 구조
영향: 프론트엔드 에러 처리 복잡

### 3. 로깅 표준 없음
현재: console.log 산재
영향: 프로덕션 디버깅 어려움

### 4. Rate Limiting 일부 누락
누락 엔드포인트:
- POST /api/orders
- POST /api/payment/confirm
- GET /api/coupons/available

## 🔴 장기 개선 (낮은 우선순위)

### 1. 메모리 기반 인증 코드 저장
현재: global.verificationCodes (서버 재시작 시 초기화)
권장: Redis 이관

### 2. 테스트 커버리지 없음

## 📊 배포 권장사항

### 즉시 배포 가능
- 핵심 주문 흐름 안정적
- 보안 기본 구현됨
- 백업 파일 정리 완료

### 배포 전 확인사항 (10분)
1. 환경변수 전체 설정 확인
2. Supabase RLS 정책 활성화 확인
3. Toss 결제 테스트

### 배포 후 모니터링
- SMS 발송 성공률
- 결제 성공률
- 500 에러 발생 빈도

## 결론
✅ **현재 상태로 배포 가능**
⚠️ 환경변수 설정만 확실히 하면 안정적 운영 가능
