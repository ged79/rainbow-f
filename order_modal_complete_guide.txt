// Order Modal 포인트 UI 추가 가이드
// page.tsx 파일에서 showPayment 모달 섹션 찾아서 수정

// 1. Import 추가 (상단)
import { Gift } from 'lucide-react'

// 2. showPayment 모달 내부 - 주문자 정보 섹션 바로 다음에 추가
// 찾을 위치: "주문자 정보" 입력 필드 </div> 다음

            {/* 포인트 정보 - 전화번호 입력 시 자동 표시 */}
            {totalPoints > 0 && (
              <div className="mb-4 bg-yellow-50 p-4 rounded-lg border border-yellow-200">
                <div className="flex items-center justify-between mb-3">
                  <div className="flex items-center gap-2">
                    <Gift className="w-5 h-5 text-orange-500" />
                    <h4 className="text-base md:text-lg font-semibold">보유 포인트</h4>
                  </div>
                  <span className="text-lg font-bold text-orange-600">
                    {totalPoints.toLocaleString()}원
                  </span>
                </div>
                
                <label className="flex items-center cursor-pointer">
                  <input
                    type="checkbox"
                    checked={usePoints}
                    onChange={togglePoints}
                    className="mr-2 w-4 h-4 text-green-600 rounded focus:ring-green-500"
                  />
                  <span className="text-sm text-gray-700">
                    포인트 사용하기 (최대 {Math.min(totalPoints, product.price * quantity).toLocaleString()}원)
                  </span>
                </label>
                
                {usePoints && (
                  <div className="mt-2 p-2 bg-white rounded text-sm">
                    <div className="flex justify-between text-gray-600">
                      <span>상품 금액</span>
                      <span>{(product.price * quantity).toLocaleString()}원</span>
                    </div>
                    <div className="flex justify-between text-red-600 font-semibold">
                      <span>포인트 할인</span>
                      <span>-{discountAmount.toLocaleString()}원</span>
                    </div>
                    <div className="flex justify-between pt-2 mt-2 border-t font-bold">
                      <span>최종 금액</span>
                      <span className="text-green-600">
                        {(product.price * quantity - discountAmount).toLocaleString()}원
                      </span>
                    </div>
                  </div>
                )}
              </div>
            )}
            
            {/* 추천인 입력 - 간소화 버전 */}
            <div className="mb-4">
              <label className="block text-sm font-medium text-gray-700 mb-2">
                추천인 전화번호 (선택)
              </label>
              <input
                type="tel"
                placeholder="010-0000-0000"
                value={referrerPhone}
                onChange={(e) => {
                  const formatted = formatPhoneNumber(e.target.value)
                  setReferrerPhone(formatted)
                }}
                className="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500"
                maxLength={13}
              />
              {referrerPhone && (
                <p className="mt-1 text-xs text-gray-500">
                  구매 적립 3% → 5%, 추천인 3% 적립
                </p>
              )}
            </div>

// 3. 기존 "추천인 혜택" 섹션 삭제
// 아래 코드 블록 전체 삭제:
/*
            {/* 추천인 혜택 */}
            <div className="mb-4 bg-green-50 p-4 rounded-lg border border-green-200">
              <h4 className="text-base md:text-lg font-semibold mb-2 text-green-800">🎁 추천인 혜택</h4>
              <p className="text-sm text-gray-600 mb-3">
                추천인 번호 입력시 구매자 5% + 추천인 3% 포인트 적립!
              </p>
              <input
                type="tel"
                placeholder="추천인 전화번호 (선택)"
                value={referrerPhone}
                onChange={(e) => {
                  const formatted = formatPhoneNumber(e.target.value)
                  setReferrerPhone(formatted)
                  setShowReferralBenefit(!!formatted)
                  setAutoReferrer(false) // 수동 입력 시 자동 추천인 해제
                }}
                className={`w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 ${
                  autoReferrer ? 'bg-green-50 border-green-300' : 'border-gray-300'
                }`}
                maxLength={13}
              />
              {showReferralBenefit && (
                <div className="mt-2 text-sm text-green-600">
                  ✓ 구매시 {Math.floor((product.price * quantity) * 0.05).toLocaleString()}원 적립 (일반 3% → 5%)
                  <br />
                  ✓ 추천인도 {Math.floor((product.price * quantity) * 0.03).toLocaleString()}원 적립
                  {autoReferrer && (
                    <span className="block text-xs text-gray-500 mt-1">
                      ※ 자동 등록된 추천인입니다
                    </span>
                  )}
                </div>
              )}
            </div>
*/

// 4. PC 레이아웃 섹션의 포인트 표시도 제거
// 아래 코드 블록 찾아서 삭제:
/*
                {/* 포인트 사용 */}
                {totalPoints > 0 && (
                  <div className="border border-gray-200 rounded-lg p-4 mb-6">
                    ...
                  </div>
                )}
*/
